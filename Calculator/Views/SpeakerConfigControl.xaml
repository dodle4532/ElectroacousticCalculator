<UserControl x:Class="Calculator.Views.SpeakerConfigControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:Calculator.Views"
             mc:Ignorable="d" PreviewKeyDown="UserControl_PreviewKeyDown" FontSize="16" Height="426">
    <Border BorderBrush="#FF007ACC" 
        BorderThickness="2" 
        CornerRadius="5" 
        Padding="15" Width="876">
        <StackPanel Margin="0,0,0,-7">
            <TextBlock Text="НАСТРОЙКА ПАРАМЕТРОВ ГРОМКОГОВОРИТЕЛЯ" 
           FontWeight="Bold" 
           FontSize="16" 
           Foreground="#FF007ACC"
           Margin="0,10,0,15"
           HorizontalAlignment="Center"/>
            <Border
                CornerRadius="5" 
              BorderBrush="#FF007ACC" 
              BorderThickness="1"
              Padding="10" Width="800" Height="296">
                <Grid>
                    <Grid x:Name="MainGrid" Visibility="Visible">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="222"/>
                            <ColumnDefinition Width="366"/>
                            <ColumnDefinition/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="40"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="30"/>
                            <RowDefinition Height="40"/>
                            <RowDefinition Height="40"/>
                            <RowDefinition Height="1*"/>
                        </Grid.RowDefinitions>

                        <Label Content="Наименование громкоговорителя" HorizontalAlignment="Left" VerticalAlignment="Top" HorizontalContentAlignment="Left"  Height="38" Width="263" Grid.ColumnSpan="2" Margin="15,-2,0,0"/>
                        <Label Content="Электрическая (подводимая) мощность:" FontWeight="DemiBold" HorizontalAlignment="Left" Margin="15,18,0,0" VerticalAlignment="Top" Grid.Row="7" Height="39" Width="330" Grid.ColumnSpan="2" Grid.RowSpan="2"/>
                        <TextBox x:Name="tbName" Visibility="Collapsed" Style="{StaticResource {x:Type TextBox}}" VerticalContentAlignment="Center" Height="30" Margin="15,0,18,0" Grid.Row="1" TextWrapping="Wrap" Text="" VerticalAlignment="Center" Grid.ColumnSpan="3" Cursor=""/>
                        <ComboBox Background="Black" x:Name="cbName" Style="{StaticResource {x:Type ComboBox}}" SelectionChanged="cbName_SelectionChanged" Visibility="Visible" VerticalContentAlignment="Center" Height="30" Margin="15,0,0,0" Grid.Row="1" HorizontalContentAlignment="Left" ItemsSource="{Binding Speaker}" DisplayMemberPath="Name"  VerticalAlignment="Center" Grid.ColumnSpan="3" HorizontalAlignment="Left" Width="745"/>
                        <TextBox x:Name="tb_P_Vt" Style="{StaticResource {x:Type TextBox}}" HorizontalContentAlignment="Center" Grid.Column="2" VerticalContentAlignment="Center" Margin="60,24,0,30" Grid.Row="7" TextWrapping="Wrap" Text="" HorizontalAlignment="Left" Width="54" Grid.RowSpan="2"/>
                        <Label Content="Вт" FontStyle="Italic" Margin="128,20,0,0" FontWeight="DemiBold" VerticalAlignment="Top" Grid.Row="7" Height="28" Grid.Column="2" HorizontalAlignment="Left" Width="34" Grid.RowSpan="2"/>
                        <DataGrid Style="{StaticResource {x:Type DataGrid}}" x:Name="DataGrid" FontSize="16" Loaded="DataGrid_Loaded" RowHeaderWidth="0" SelectionMode="Single" CellEditEnding="DataGrid_CellEditEnding"
          BorderThickness="1"
          IsSynchronizedWithCurrentItem="False"
  Grid.Row="2"
  AutoGenerateColumns="False"
  CanUserAddRows="False"
  CanUserDeleteRows="False"
  CanUserReorderColumns="False"
  CanUserResizeRows="False"
  HeadersVisibility="All"
                                  Background="#F0F8FF"
  SelectionUnit="Cell"
  Margin="15,10,18,30" PreviewMouseWheel="DataGrid_PreviewMouseWheel" VerticalContentAlignment="Center" ScrollViewer.VerticalScrollBarVisibility="Disabled" ScrollViewer.CanContentScroll="False" ScrollViewer.HorizontalScrollBarVisibility="Disabled" Grid.RowSpan="6" PreviewMouseLeftButtonDown="DataGrid_PreviewMouseLeftButtonDown" Grid.ColumnSpan="3">
                            <DataGrid.CellStyle>
                                <Style TargetType="DataGridCell">
                                    <Setter Property="VerticalContentAlignment" Value="Center"/>
                                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                    <!-- 👇 Убираем синее выделение -->
                                    <Setter Property="Background" Value="#F0F8FF"/>
                                    <Setter Property="BorderBrush" Value="#F0F8FF"/>
                                    <Style.Triggers>
                                        <!-- При выборе ячейки - никакого синего фона -->
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter Property="Background" Value="Transparent"/>
                                            <Setter Property="BorderBrush" Value="Transparent"/>
                                            <Setter Property="Foreground" Value="Black"/>
                                        </Trigger>
                                        <!-- При наведении - тоже без изменений -->
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="Transparent"/>
                                            <Setter Property="BorderBrush" Value="Transparent"/>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGrid.CellStyle>
                            <!-- Стиль для столбцов -->
                            <DataGrid.ColumnHeaderStyle>
                                <Style TargetType="DataGridColumnHeader">
                                    <Setter Property="Background" Value="#F0F0F0"/>
                                    <Setter Property="BorderBrush" Value="Black"/>
                                    <!-- Черный -->
                                    <Setter Property="BorderThickness" Value="0,0,1,1"/>
                                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                    <Setter Property="Height" Value="30"/>
                                </Style>
                            </DataGrid.ColumnHeaderStyle>
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="" Width="0" Visibility="Collapsed"/>
                                <DataGridTextColumn Header="Частотный диапозон" Binding="{Binding Name}" Width="8*">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style TargetType="DataGridColumnHeader" BasedOn="{StaticResource {x:Type DataGridColumnHeader}}">
                                            <Setter Property="Background" Value="#F0F0F0"/>
                                            <Setter Property="BorderBrush" Value="Black"/>
                                            <Setter Property="BorderThickness" Value="0,0,1,1"/>
                                            <Setter Property="FontWeight" Value="Bold"/>
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                    <DataGridTextColumn.CellStyle>
                                        <Style TargetType="DataGridCell">
                                            <Setter Property="Background" Value="#F0F0F0"/>
                                            <Setter Property="Foreground" Value="Black"/>
                                            <Setter Property="FontWeight" Value="SemiBold"/>
                                            <Setter Property="IsHitTestVisible" Value="False"/>
                                            <!-- Не реагирует на клики -->
                                            <Style.Triggers>
                                                <Trigger Property="IsSelected" Value="True">
                                                    <Setter Property="Background" Value="#F8F8F8"/>
                                                    <Setter Property="BorderBrush" Value="Black"/>
                                                    <Setter Property="Foreground" Value="Black"/>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </DataGridTextColumn.CellStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="0.25" Binding="{Binding Value1}" Width="1*">
                                    <DataGridTextColumn.CellStyle>
                                        <Style TargetType="DataGridCell">
                                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                            <Setter Property="Background" Value="#F5F8FF"/>
                                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.CellStyle>
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="TextAlignment" Value="Center"/>
                                            <Setter Property="VerticalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="0.5" Binding="{Binding Value2}" Width="1*">
                                    <DataGridTextColumn.CellStyle>
                                        <Style TargetType="DataGridCell">
                                            <Setter Property="Background" Value="#F5F8FF"/>
                                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.CellStyle>
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="TextAlignment" Value="Center"/>
                                            <Setter Property="VerticalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="1" Binding="{Binding Value3}" Width="1*">
                                    <DataGridTextColumn.CellStyle>
                                        <Style TargetType="DataGridCell">
                                            <Setter Property="Background" Value="#F5F8FF"/>
                                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.CellStyle>
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="TextAlignment" Value="Center"/>
                                            <Setter Property="VerticalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="2" Binding="{Binding Value4}" Width="1*">
                                    <DataGridTextColumn.CellStyle>
                                        <Style TargetType="DataGridCell">
                                            <Setter Property="Background" Value="#F5F8FF"/>
                                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.CellStyle>
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="TextAlignment" Value="Center"/>
                                            <Setter Property="VerticalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="4" Binding="{Binding Value5}" Width="1*">
                                    <DataGridTextColumn.CellStyle>
                                        <Style TargetType="DataGridCell">
                                            <Setter Property="Background" Value="#F5F8FF"/>
                                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.CellStyle>
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="TextAlignment" Value="Center"/>
                                            <Setter Property="VerticalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                                <DataGridTextColumn Header="кГц" Binding="{Binding Metric}" Width="1.1*">
                                    <DataGridTextColumn.HeaderStyle>
                                        <Style TargetType="DataGridColumnHeader" BasedOn="{StaticResource {x:Type DataGridColumnHeader}}">
                                            <Setter Property="Background" Value="#F0F0F0"/>
                                            <Setter Property="BorderBrush" Value="Black"/>
                                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                                            <Setter Property="BorderThickness" Value="0,0,0,1"/>
                                            <Setter Property="FontWeight" Value="Bold"/>
                                            <Setter Property="FontStyle" Value="Italic"/>
                                        </Style>
                                    </DataGridTextColumn.HeaderStyle>
                                    <DataGridTextColumn.CellStyle>
                                        <Style TargetType="DataGridCell">
                                            <Setter Property="Background" Value="#F8F8F8"/>
                                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                            <Setter Property="VerticalContentAlignment" Value="Center"/>
                                            <Setter Property="Foreground" Value="Black"/>
                                            <Setter Property="FontWeight" Value="SemiBold"/>
                                            <Setter Property="FontStyle" Value="Italic"/>
                                            <Setter Property="IsHitTestVisible" Value="False"/>
                                            <!-- Не реагирует на клики -->
                                            <Style.Triggers>
                                                <Trigger Property="IsSelected" Value="True">
                                                    <Setter Property="Background" Value="#F8F8F8"/>
                                                    <Setter Property="BorderBrush" Value="Black"/>
                                                    <Setter Property="Foreground" Value="Black"/>
                                                </Trigger>
                                            </Style.Triggers>
                                        </Style>
                                    </DataGridTextColumn.CellStyle>
                                    <DataGridTextColumn.ElementStyle>
                                        <Style TargetType="TextBlock">
                                            <Setter Property="TextAlignment" Value="Center"/>
                                            <Setter Property="VerticalAlignment" Value="Center"/>
                                        </Style>
                                    </DataGridTextColumn.ElementStyle>
                                </DataGridTextColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                    <Button x:Name="btnSave" Visibility="Collapsed"
Content="Сохранить" Margin="-10,-41,615,297" 
Background="#FF007ACC" Foreground="White"
BorderThickness="0" Cursor="Hand" Height="NaN"
Click="btnSave_Click"/>
                </Grid>
            </Border>
        </StackPanel>
    </Border>
</UserControl>
